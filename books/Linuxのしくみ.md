---
isbn: 9784774196077
---

<!-- isbn: 1617292397 -->

## １章 コンピュータシステムの概要

**デバイスドライバ**

デバイスを操作する処理のプログラムのまとめ

**カネールモード**

デバイスにアクセスできる。=> デバイスドライバ
その他諸々

- プロセス管理システム
- プロセススケジューラ
- メモリ管理システム

OS の核となる処理をまとめたプログラムを**カーネル**と呼びます。

**ユーザーモード**

デバイスにアクセスできない => プロセス

デバイスドライバ含むカーネルに処理を依頼したい場合**システムコール**と呼ばれる、特殊な処理を介してカーネルに依頼

## ２章 ユーザーモードで実現する機能

**システムコール**

- プロセス生成、削除
- メモリ確保、解放
- プロセス間通知ん
- ネットワーク
- ファイルシステムの操作
- ファイル操作

`glibc`

- 標準 C ライブラリ
- システムコールのラッパーライブラリ
- POSIX

`POSIX`

- Portable operating system interface
- POSIX は、各種 UNIX を始めとする異なるオペレーティングシステム 実装に共通のアプリケーションプログラミングインタフェース を定め、移植性の高いアプリケーションソフトウェアの開発を容易にすることを目的として IEEE が策定した API 規格である。

## ３章 プロセスの管理

`fork()`

- 全く同じ処理の子プロセスを生成する
- いつ使うんだ

`execve()`

- 別のプログラムを呼ぶときに
- 新しいメモリを解放しないで、現在のプロセスのメモリを新しいプロセスのデータに上書きする
- そこから、新しいプロセスの最初の命令から実行開始する

プロセスのメモリマップ

## ４章 プロセススケジューラ

`timespec`

時間と秒となの秒を分解して保持する分解して保持する構造体

reference を引数として渡す

```c
struct timespec before, after;
clock_gettime(CLOCK_MONOTONIC, &before);
```

`nproc`

- 現在利用できるプロセッサの数を表示
- number of process?

**プロセスの状態**

- 実行状態 `R`
- スリープ状態 `S / D`
- 実行待ち状態
- ゾンビ状態 `Z`

1. 論理 CPU 上で一度に実行できるプロセスは 1 つだけ
2. スリープ状態においては CPU 時間を使わない

**スループット throughput**

単位時間あたりのそう仕事量。高いほどよい。

- CPU においては、アイドル状態の割合が低いほど、スループットが高くなる
- CPU を使い切ってるときに、いくらプロセス数を増やしても、スループットは変わらない

**レイテンシ latency**

それぞれの処理の開始から終了までの経過時間。短い程よい。

- プロセスを増やすとレイテンシは悪化する
